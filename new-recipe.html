<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- CSS -->
    <link rel="stylesheet" href="./css/normalize.css" />
    <link rel="stylesheet" href="./css/styles.css" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <!-- Dexie DB (IndexedDB wrapper) -->
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>

    <title>Foodables</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-md fixed-top bg-dark" data-bs-theme="dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Foodables</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link active" aria-current="page" href="./index.html"
              >Home</a
            >
            <a class="nav-link" href="./new-recipe.html">New Recipe</a>
            <a class="nav-link" href="./recipes.html">Recipes</a>
          </div>
        </div>
      </div>
    </nav>
    <main class="container">
      <form>
        <div class="mb-3">
          <label for="recipeName" class="form-label">Recipe name:</label>
          <input
            type="text"
            class="form-control"
            id="recipeName"
            placeholder="Egg on Toast"
          />
        </div>
        <div class="mb-3">
          <label for="recipeDescription" class="form-label">Description:</label>
          <textarea
            class="form-control"
            id="recipeDescription"
            rows="2"
            placeholder="Add a short recipe description."
          ></textarea>
        </div>
        <label for="ingredientsList" class="form-label">Ingredients:</label>
        <div class="container-sm" id="ingredientsList">
          <div class="input-group mb-2" id="0">
            <input
              id="amount"
              type="number"
              class="form-control"
              aria-label="Amount (to the nearest gram)"
              placeholder="Amount"
            />
            <input
              class="form-control"
              list="datalistOptions"
              id="unit"
              placeholder="Type to search..."
            />
            <datalist id="datalistOptions">
              <option value="gram/s"></option>
              <option value="kilogram/s"></option>
              <option value="millilitres"></option>
              <option value="litres"></option>
            </datalist>

            <!-- <input
              id="unit"
              type="text"
              class="form-control"
              aria-label="Unit of measure"
              placeholder="Unit of measure"
            /> -->
            <input
              id="ingredientName"
              type="text"
              class="form-control"
              aria-label="Ingredient name"
              placeholder="Ingredient name"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              onclick="addIngredient(this)"
            >
              <i class="bi bi-plus"></i>
            </button>
          </div>
        </div>
        <label for="method" class="form-label">Method:</label>
        <div id="methodList" class="container-sm">
          <div class="input-group mb-3">
            <span class="input-group-text stepLabel">Step 1</span>
            <textarea
              id="step"
              class="form-control"
              aria-label="Step 1"
            ></textarea>
            <button
              class="btn btn-outline-secondary"
              type="button"
              onclick="addStep(this)"
            >
              <i class="bi bi-plus"></i>
            </button>
          </div>
        </div>
        <button
          type="submit"
          class="btn btn-outline-secondary"
          onclick="saveRecipe()"
        >
          <i class="bi bi-save"></i> Save recipe
        </button>
      </form>
    </main>

    <script src="/modules/database.mjs"></script>
    <script src="/modules/new-recipe.mjs"></script>
    <!-- Separate Popper and Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
